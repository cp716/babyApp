{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport firebase from 'firebase';\nimport TableTitle from \"../components/TableTitle\";\nimport CreateData from \"../components/CreateData\";\nimport LogOutButton from \"../components/LogOutButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function BabyMonthScreen(props) {\n  var navigation = props.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      memos = _useState2[0],\n      setMemos = _useState2[1];\n\n  useEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return _jsx(LogOutButton, {});\n      }\n    });\n  }, []);\n  useEffect(function () {\n    var db = firebase.firestore();\n\n    var _firebase$auth = firebase.auth(),\n        currentUser = _firebase$auth.currentUser;\n\n    var unsubscribe = function unsubscribe() {};\n\n    if (currentUser) {\n      var ref = db.collection(\"users/\" + currentUser.uid + \"/memos\").orderBy('updatedAt', 'asc');\n      unsubscribe = ref.onSnapshot(function (snapshot) {\n        var userMemos = [];\n        snapshot.forEach(function (doc) {\n          console.log(doc.id, doc.data());\n          var data = doc.data();\n          userMemos.push({\n            id: doc.id,\n            timeLeft: data.timeLeft,\n            timeRight: data.timeRight,\n            bodyText: data.bodyText,\n            updatedAt: data.updatedAt.toDate()\n          });\n        });\n        setMemos(userMemos);\n      }, function (error) {\n        console.log(error);\n        Alert.alert('データの読み込みに失敗しました。');\n      });\n    }\n\n    return unsubscribe;\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      children: _jsxs(View, {\n        style: styles.tableTitle,\n        children: [_jsx(TableTitle, {\n          title: \"\\u65E5\"\n        }), _jsx(TableTitle, {\n          title: \"\\u6BCD\\u4E73\"\n        }), _jsx(TableTitle, {\n          title: \"\\u54FA\\u4E73\\u74F6(\\u30DF\\u30EB\\u30AF)\"\n        }), _jsx(TableTitle, {\n          title: \"\\u54FA\\u4E73\\u74F6(\\u6BCD\\u4E73)\"\n        }), _jsx(TableTitle, {\n          title: '修正/確認'\n        })]\n      })\n    }), _jsxs(View, {\n      style: styles.footer,\n      children: [_jsx(View, {\n        style: styles.advertisement,\n        children: _jsx(Image, {\n          style: {\n            width: '95%',\n            height: '100%'\n          },\n          resizeMode: \"contain\",\n          source: require(\"../img/IMG_2417.jpg\")\n        })\n      }), _jsx(View, {\n        style: styles.menu,\n        children: _jsx(Text, {\n          style: styles.tableTitle,\n          onPress: function onPress() {\n            navigation.navigate('BabyToday');\n          },\n          children: \"\\u623B\\u308B\"\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F0F4F8'\n  },\n  footer: {\n    height: '25%',\n    width: '100%',\n    position: 'absolute',\n    bottom: 0\n  },\n  tableTitle: {\n    flexDirection: 'row'\n  },\n  advertisement: {\n    height: '40%',\n    alignItems: 'center',\n    backgroundColor: '#748292'\n  },\n  menu: {\n    height: '60%',\n    backgroundColor: '#859602'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","firebase","TableTitle","CreateData","LogOutButton","BabyMonthScreen","props","navigation","memos","setMemos","setOptions","headerRight","db","firestore","auth","currentUser","unsubscribe","ref","collection","uid","orderBy","onSnapshot","snapshot","userMemos","forEach","doc","console","log","id","data","push","timeLeft","timeRight","bodyText","updatedAt","toDate","error","Alert","alert","styles","container","tableTitle","footer","advertisement","width","height","require","menu","navigate","StyleSheet","create","flex","backgroundColor","position","bottom","flexDirection","alignItems"],"sources":["/Users/atsushi/Dev/baby/src/screens/BabyMonthScreen.jsx"],"sourcesContent":["import React, { useEffect, useState }  from 'react';\nimport { View, Text, StyleSheet, Alert, Image } from 'react-native';\nimport firebase from 'firebase';\n\n//import Datetime from '../components/Datetime';\nimport TableTitle from '../components/TableTitle';\nimport CreateData from '../components/CreateData';\nimport LogOutButton from '../components/LogOutButton';\n\nexport default function BabyMonthScreen(props) {\n    const { navigation } = props;\n    const [memos, setMemos] = useState([]);\n    useEffect(() => {\n        navigation.setOptions({\n            headerRight: () => <LogOutButton />,\n        });\n    }, []);\n\n    useEffect(() => {\n        const db =firebase.firestore();\n        const { currentUser } = firebase.auth();\n        let unsubscribe = () => {};\n        if (currentUser) {\n            const ref = db.collection(`users/${currentUser.uid}/memos`).orderBy('updatedAt', 'asc');\n            unsubscribe = ref.onSnapshot((snapshot) => {\n                const userMemos = [];\n                snapshot.forEach((doc) => {\n                    console.log(doc.id, doc.data());\n                    const data = doc.data();\n                    userMemos.push({\n                        id: doc.id,\n                        timeLeft: data.timeLeft,\n                        timeRight: data.timeRight,\n                        bodyText: data.bodyText,\n                        updatedAt: data.updatedAt.toDate(),\n                    });\n                });\n                setMemos(userMemos);\n            }, (error) => {\n                console.log(error);\n                Alert.alert('データの読み込みに失敗しました。');\n            });\n        }\n        return unsubscribe;\n    }, []);\n    \n    return (\n        <View style={styles.container}>\n            <View>\n                {/*<Datetime />*/}\n                <View style={styles.tableTitle}>\n                    <TableTitle title = '日' />\n                    <TableTitle title = '母乳' />\n                    <TableTitle title = '哺乳瓶(ミルク)' />\n                    <TableTitle title = '哺乳瓶(母乳)' />\n                    <TableTitle title = {'修正/確認'} />\n                </View>\n            </View>\n            {/*<CreateData memos={memos} />*/}\n            <View style={styles.footer}>\n                <View style={styles.advertisement}>\n                    <Image style={{width: '95%', height: '100%'}}\n                        resizeMode='contain'\n                        source={require('../img/IMG_2417.jpg')}\n                    />\n                </View>\n                <View style={styles.menu}>\n                    <Text style={styles.tableTitle} onPress={() => { navigation.navigate('BabyToday'); }}>\n                        戻る\n                    </Text>\n                </View>\n            </View>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#F0F4F8',\n    },\n    footer: {\n        height:'25%',\n        width:'100%',\n        position:'absolute',\n        bottom: 0,\n        //paddingBottom: 50,\n    },\n    tableTitle: {\n        flexDirection: 'row',\n    },\n    advertisement: {\n        height: '40%',\n        //width: '50%',\n        alignItems:'center',\n        backgroundColor: '#748292',\n    },\n    menu: {\n        height: '60%',\n        backgroundColor: '#859602',\n    },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}