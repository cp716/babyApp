{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport firebase from 'firebase';\nimport Button from \"../components/Button\";\nimport Loading from \"../components/Loading\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function LogInScreen(props) {\n  var navigation = props.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setLoading = _useState6[1];\n\n  useEffect(function () {\n    var unsubscribe = firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        navigation.reset({\n          index: 0,\n          routes: [{\n            name: 'BabyToday'\n          }]\n        });\n      } else {\n        setLoading(false);\n      }\n    });\n    return unsubscribe;\n  }, []);\n\n  function handlePress() {\n    setLoading(true);\n    firebase.auth().signInWithEmailAndPassword(email, password).then(function (userCredentail) {\n      var user = userCredentail.user;\n      console.log(user.uid);\n      navigation.reset({\n        index: 0,\n        routes: [{\n          name: 'BabyToday'\n        }]\n      });\n    }).catch(function (error) {\n      Alert.alert(error.code);\n    }).then(function () {\n      setLoading(false);\n    });\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Loading, {\n      isLoading: isLoading\n    }), _jsxs(View, {\n      style: styles.inner,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        value: email,\n        onChangeText: function onChangeText(text) {\n          setEmail(text);\n        },\n        autoCapitalize: \"none\",\n        keyboardType: \"email-address\",\n        placeholder: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\",\n        textContentType: \"emailAddress\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        value: password,\n        onChangeText: function onChangeText(text) {\n          setPassword(text);\n        },\n        autoCapitalize: \"none\",\n        placeholder: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n        secureTextEntry: true,\n        textContentType: \"password\"\n      }), _jsx(Button, {\n        label: \"\\u30ED\\u30B0\\u30A4\\u30F3\",\n        onPress: handlePress\n      }), _jsxs(View, {\n        style: styles.footer,\n        children: [_jsx(Text, {\n          style: styles.footerText,\n          children: \"\\u4F1A\\u54E1\\u767B\\u9332\\u306F\"\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            navigation.reset({\n              index: 0,\n              routes: [{\n                name: 'SignUp'\n              }]\n            });\n          },\n          children: _jsx(Text, {\n            style: styles.footerLink,\n            children: \"\\u3053\\u3061\\u3089\"\n          })\n        })]\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F0F4F8'\n  },\n  inner: {\n    paddingHorizontal: 27,\n    paddingVertical: 24\n  },\n  title: {\n    fontSize: 24,\n    lineHeight: 32,\n    fontWeight: 'bold',\n    marginBottom: 24\n  },\n  input: {\n    fontSize: 16,\n    height: 48,\n    borderColor: '#DDDDDD',\n    borderWidth: 1,\n    backgroundColor: '#ffffff',\n    paddingHorizontal: 8,\n    marginBottom: 16\n  },\n  footerText: {\n    fontSize: 14,\n    lineHeight: 24,\n    marginRight: 8\n  },\n  footerLink: {\n    fontSize: 14,\n    lineHeight: 24,\n    color: '#467FD3'\n  },\n  footer: {\n    flexDirection: 'row'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","firebase","Button","Loading","LogInScreen","props","navigation","email","setEmail","password","setPassword","isLoading","setLoading","unsubscribe","auth","onAuthStateChanged","user","reset","index","routes","name","handlePress","signInWithEmailAndPassword","then","userCredentail","console","log","uid","catch","error","Alert","alert","code","styles","container","inner","title","input","text","footer","footerText","footerLink","StyleSheet","create","flex","backgroundColor","paddingHorizontal","paddingVertical","fontSize","lineHeight","fontWeight","marginBottom","height","borderColor","borderWidth","marginRight","color","flexDirection"],"sources":["/Users/atsushi/Dev/baby/src/screens/LogInScreen.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, StyleSheet, TouchableOpacity, Alert, } from 'react-native';\nimport firebase from 'firebase';\n\nimport Button from '../components/Button';\nimport Loading from '../components/Loading';\n\nexport default function LogInScreen(props) {\n    const { navigation } = props;\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [isLoading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                navigation.reset({\n                    index: 0,\n                    routes: [{ name: 'BabyToday' }],\n                });\n            } else {\n                setLoading(false);\n            }\n        });\n        return unsubscribe;\n    }, []);\n\n    function handlePress() {\n        setLoading(true);\n        firebase.auth().signInWithEmailAndPassword(email, password)\n        .then((userCredentail) => {\n            const { user } = userCredentail;\n            console.log(user.uid);\n            navigation.reset({\n                index: 0,\n                routes: [{ name: 'BabyToday'}],\n            });\n        })\n        .catch((error) => {\n            Alert.alert(error.code);\n        })\n        .then(() => {\n            setLoading(false);\n        });   \n    }\n\n    return (\n        <View style={styles.container}>\n            <Loading isLoading={isLoading} />\n            <View style={styles.inner}>\n                <Text style={styles.title}>ログイン</Text>\n                <TextInput\n                    style={styles.input}\n                    value={email}\n                    onChangeText={(text) => { setEmail(text); }}\n                    autoCapitalize=\"none\"\n                    keyboardType=\"email-address\"\n                    placeholder=\"メールアドレス\"\n                    textContentType=\"emailAddress\"\n                />\n                <TextInput\n                    style={styles.input}\n                    value={password}\n                    onChangeText={(text) => { setPassword(text); }}\n                    autoCapitalize=\"none\"\n                    placeholder=\"パスワード\"\n                    secureTextEntry\n                    textContentType=\"password\"\n                />\n                <Button\n                    label=\"ログイン\"\n                    onPress={handlePress}\n                />\n                <View style={styles.footer}>\n                    <Text style={styles.footerText}>会員登録は</Text>\n                    <TouchableOpacity onPress={() => { navigation.reset({\n                        index: 0,\n                        routes: [{ name: 'SignUp'}],\n                    }); }}>\n                        <Text style={styles.footerLink}>こちら</Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#F0F4F8',\n    },\n    inner: {\n        paddingHorizontal: 27,\n        paddingVertical: 24,\n    },\n    title: {\n        fontSize: 24,\n        lineHeight: 32,\n        fontWeight: 'bold',\n        marginBottom: 24,\n    },\n    input: {\n        fontSize: 16,\n        height: 48,\n        borderColor: '#DDDDDD',\n        borderWidth: 1,\n        backgroundColor: '#ffffff',\n        paddingHorizontal: 8,\n        marginBottom: 16,\n    },\n    footerText: {\n        fontSize: 14,\n        lineHeight: 24,\n        marginRight: 8,\n    },\n    footerLink: {\n        fontSize: 14,\n        lineHeight: 24,\n        color: '#467FD3',\n    },\n    footer: {\n        flexDirection: 'row'\n    },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}